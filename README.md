# autofill
​		[autofill](autofill.crx)是一款可以将导入的文档数据自动填充至网页页面中的浏览器插件。

## 1、文档约定格式

|   元素标识    |  填充内容  |
| :-----------: | :--------: |
| 元素的name/id | 需填充内容 |

​		元素标识同填充内容之间用空格隔开，不同元素之间用换行作为分割符。当填充元素为多选框，填充内容有多项时，不同选项用英文逗号隔开。

## 2、字段约定说明

### 2.1、元素标识

​		元素标识应为元素的id或name属性，按先id后name的原则进行寻找。如果按id已经找到dom则不再进行按name进行寻找。普通文本框（type为text的input元素）及下拉框（select）均可以使用id或者name进行查找。由于采用了先id后name的原则，故而建议优先使用id。单选按钮（type为radio的input元素）和多选框（type为checkbox的input元素）由于使用id很难定位到所有选型，故只能使用name属性值进行定位

### 2.2、填充内容

​		填充内容字段为需要在元素中填充的值。如果是文本框，则直接将填充内容填充进去；如果下拉框则则按照下拉框内容（即：innerText属性值）进行匹配，匹配成功后选中该元素；如果是单选按钮，由于很难获取到每个选项的选项内容，故只能采用按照value值进行匹配；如果是多选框，不同选项应用英文逗号进行分割，同单选按钮一样，由于难以获取到每个选项的内容，故也只能按照value值进行匹配，将所有匹配项选中进行填充。

## 3、设计思路

​		先选择文档的层级，文档层级用户区分页面中可能含有的frame、iframe等嵌入式页面。选中页面后，页面的背景色会发生短暂的变化以便于使用者判断对应的页面。使用者选中页面后，则可以选择本地文件进行导入，点击填充按钮，本程序会按照字段字段约定的内容进行填充，并返回结果。

## 4、异常及错误代码

- S000 ：成功
- W001 ：文档大小超限
- W002 ：文档格式不支持
- W003 : 未找到对应元素
- W004 : 未找到对应选项
- W005 : 元素不支持填充
- W006 : 元素标识不能为空
- W007 : 文件读取异常
- E001 : 通讯出错
- E002 : frame链接跨域
- E003 : iframe链接跨域

​		